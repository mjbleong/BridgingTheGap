<!doctype html>
<html ng-app="cs142App" ng-controller="MainController">
    <head>

        <title>{{main.title || "CS142 Class Project"}}</title>

        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

        <link href="./node_modules/angular-material/angular-material.css" rel="stylesheet" />
    
        <script src="./node_modules/angular/angular.js" type="text/javascript" ></script>
        <script src="./node_modules/angular-animate/angular-animate.js" type="text/javascript" ></script>
        <script src="./node_modules/angular-aria/angular-aria.js" type="text/javascript" ></script>
        <script src="./node_modules/angular-material/angular-material.js" type="text/javascript" ></script>

        <script src="node_modules/angular-route/angular-route.js"></script>

        <script src="mainController.js"></script>
        <link rel="stylesheet" type="text/css" href="main.css" />

        <script src="components/user-list/user-listController.js"></script>
        <link rel="stylesheet" type="text/css" href="components/user-list/user-list.css" />

        <script src="components/user-detail/user-detailController.js"></script>
        <link rel="stylesheet" type="text/css" href="components/user-detail/user-detail.css" />

        <script src="components/user-photos/user-photosController.js"></script>

        <link rel="stylesheet" type="text/css" href="components/user-photos/user-photos.css" />

        <script src="node_modules/angular-resource/angular-resource.js"></script>

        <script src="components/login-register/login-registerController.js"></script>
        <link rel="stylesheet" type="text/css" href="components/login-register/login-register.css" />

        <script src="components/favorites/favoritesController.js"></script>
        <link rel="stylesheet" type="text/css" href="components/favorites/favorites.css" />
    </head>

    <body layout="column">

        <md-toolbar layout = "row"> <span flex class="cs142-main-header"> <span>{{main.hello}}</span>
        <span class="smallhead"> *Marisa Kwiatkowski, version: {{main.version}}* </span>
        <span ng-if="main.loggedIn"><md-button class="md-fab" ng-click="logoutClick()">Logout</md-button></span>
        <span ng-if="main.loggedIn"><md-button  class="md-fab" ng-click="addPhotoClick()">Add Photo</md-button></span>
        <span class="addph" ng-if="main.addPhotoButton===true"> <input type="file" accept="image/*"  onchange="angular.element(this).scope().inputFileNameChanged(this)"> </span>
        <span ng-if="main.addPhotoButton===true">
             <div class="listOfUsers">Choose which users you want to share with:
                <md-checkbox ng-repeat="user in main.userArrayNew" ng-click='addUser(user._id)'>{{user.first_name}} {{user.last_name}}, {{user.login_name}}</md-checkbox>
                <div> here: {{checkedUsers}} </div>
            </div>
        </span>
        <span ng-if="main.addPhotoButton===true"><md-button class="md-fab" ng-click="uploadPhoto(checkedUsers)">Upload</md-button></span>
    </span>
    <span>{{main.title}}</span>   
        </md-toolbar>

        <div class="container" flex layout="row">

            <md-sidenav md-is-locked-open="true" class="md-whiteframe-z2">
                <div ng-if="main.loggedIn">
                <div ng-include="'components/user-list/user-listTemplate.html'" ng-controller="UserListController"></div>
            </div>
            </md-sidenav>

            <md-content flex id="content">
                <div ng-view></div>
            </md-content>

        </div>

    </body>
</html>
